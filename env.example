# ===========================================
# Client Management Agents - 環境変数設定
# ===========================================
# 
# 使い方:
# 1. このファイルを `.env` にコピー
#    cp env.example .env
# 2. 各値を実際の認証情報に置き換え
# 3. .env は .gitignore に追加済み（コミットされません）
#
# ===========================================

# -------------------------------------------
# Pipedrive CRM（必須）
# -------------------------------------------
# 取得方法: Pipedrive → 設定 → パーソナル設定 → API
PIPEDRIVE_API_TOKEN=your-pipedrive-api-token-here
PIPEDRIVE_COMPANY_DOMAIN=your-company

# -------------------------------------------
# パイプライン設定（重要）
# -------------------------------------------
# 対象のパイプラインIDを指定（カンマ区切りで複数可）
# 取得方法: Pipedrive → 商談 → パイプライン設定、またはAPIで GET /pipelines
#
# 例: 
#   単一: PIPEDRIVE_PIPELINE_IDS=1
#   複数: PIPEDRIVE_PIPELINE_IDS=1,2,3
PIPEDRIVE_PIPELINE_IDS=1

# メインで使用するパイプラインID（ファネル分析のデフォルト）
PIPEDRIVE_DEFAULT_PIPELINE_ID=1

# -------------------------------------------
# ステージマッピング（オプション）
# -------------------------------------------
# ファネル定義とPipedriveのステージIDを対応付け
# 取得方法: GET /stages?pipeline_id={PIPELINE_ID}
#
# Sales Phase
STAGE_ID_LEAD=
STAGE_ID_APPOINTMENT=
STAGE_ID_OPPORTUNITY=
STAGE_ID_PROPOSAL=
STAGE_ID_WON=

# CS Phase（該当するステージがあれば）
STAGE_ID_ONBOARDING=
STAGE_ID_ADOPTION=
STAGE_ID_EXPANSION=
STAGE_ID_RENEWAL=

# -------------------------------------------
# ユーザー設定（オプション）
# -------------------------------------------
# 自分のPipedriveユーザーID（自分の予定・アクティビティのフィルタ用）
# 取得方法: GET /users/me
PIPEDRIVE_USER_ID=

# -------------------------------------------
# Pipedrive 同期設定（Pipedrive側で設定）
# -------------------------------------------
# 以下はPipedriveの管理画面で設定してください（環境変数ではない）
#
# メール同期: 設定 → メール同期 → Gmail/Outlook接続
# カレンダー同期: 設定 → カレンダー同期 → Google Calendar接続
#
# これらが有効になっていれば、Pipedrive APIでメール・予定を取得できます

# -------------------------------------------
# Slack MCP（オプション）
# -------------------------------------------
# Slack連携を使用する場合に設定
# 取得方法: https://api.slack.com/apps → OAuth & Permissions

# Slack Bot User OAuth Token
# Required scopes: channels:read, chat:write, users:read, users.profile:read, channels:history, reactions:write
SLACK_BOT_TOKEN=xoxb-your-bot-token-here

# Slack User OAuth Token（検索機能に必要）
# Required scopes: search:read
SLACK_USER_TOKEN=xoxp-your-user-token-here

# 安全検索モード（true: プライベートチャンネル・DMを除外）
SLACK_SAFE_SEARCH=true

# 営業関連チャンネル（カンマ区切りで監視対象を指定）
# 例: sales,sales-team,client-abc
SLACK_SALES_CHANNELS=sales

# -------------------------------------------
# オプション設定
# -------------------------------------------

# ログレベル (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# 出力ディレクトリ
OUTPUT_DIR=./outputs

# タイムゾーン
TIMEZONE=Asia/Tokyo
